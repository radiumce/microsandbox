# MCP Server Environment Configuration Template
#
# Copy this file to .env and customize the values for your environment.
# Then load it with: set -a && source .env && set +a
#
# Usage:
#   cp .env.template .env
#   # Edit .env with your values
#   set -a && source .env && set +a
#   python -m mcp_server.main

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# Server host address to bind to
# Default: localhost (only local connections)
# Use 0.0.0.0 for external access
MCP_SERVER_HOST=localhost

# Server port number
# Default: 8000
MCP_SERVER_PORT=8000

# Enable CORS support for web clients
# Default: false
# Set to true for web-based MCP clients
MCP_ENABLE_CORS=false

# =============================================================================
# MICROSANDBOX SERVER CONNECTION
# =============================================================================

# Microsandbox server URL
# Default: http://127.0.0.1:5555
# For Docker: http://microsandbox:5555
MSB_SERVER_URL=http://127.0.0.1:5555

# Optional API key for authentication
# Default: None (no authentication)
# MSB_API_KEY=your-secret-api-key

# Connection timeout in seconds
# Default: 30
MSB_CONNECTION_TIMEOUT=30

# Request timeout in seconds
# Default: 300 (5 minutes)
MSB_REQUEST_TIMEOUT=300

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================

# Maximum concurrent sessions
# Default: 10
# Increase for high-throughput scenarios
MSB_MAX_SESSIONS=10

# Session timeout in seconds
# Default: 1800 (30 minutes)
# Increase for long-running operations
MSB_SESSION_TIMEOUT=1800

# Default resource flavor (small/medium/large)
# Default: small
# Options: small (1CPU/1GB), medium (2CPU/2GB), large (4CPU/4GB)
MSB_DEFAULT_FLAVOR=small

# Session cleanup interval in seconds
# Default: 300 (5 minutes)
# How often to check for expired sessions
MSB_SESSION_CLEANUP_INTERVAL=300

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Maximum total memory allocation in MB
# Default: 8192 (8GB)
# Set based on your system capacity
MSB_MAX_TOTAL_MEMORY_MB=8192

# Maximum total CPU cores
# Default: 8
# Set based on your system capacity
MSB_MAX_TOTAL_CPU_CORES=8

# Maximum execution time in seconds
# Default: 300 (5 minutes)
# Maximum time for a single code/command execution
MSB_MAX_EXECUTION_TIME=300

# =============================================================================
# VOLUME MAPPINGS
# =============================================================================

# Enable volume mapping feature
# Default: true
MSB_ENABLE_VOLUME_MAPPING=true

# Shared volume mappings (JSON array format)
# Default: [] (empty array)
# Format: ["host_path:container_path", "host_path2:container_path2"]
# 
# Examples:
# Single mapping:
# MSB_SHARED_VOLUME_PATH=["./data:/workspace"]
#
# Multiple mappings:
# MSB_SHARED_VOLUME_PATH=["/home/user/data:/data", "/tmp/output:/results", "./config:/app/config"]
#
# Development setup:
MSB_SHARED_VOLUME_PATH=["./tmp/shared:/sandbox/shared"]

# Production setup (uncomment and modify):
# MSB_SHARED_VOLUME_PATH=["/data/input:/sandbox/input", "/data/output:/sandbox/output", "/app/config:/config"]

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging level (DEBUG/INFO/WARNING/ERROR)
# Default: INFO
# Use DEBUG for development, WARNING for production
MSB_LOG_LEVEL=INFO

# Log format (json/text)
# Default: json
# Use text for development, json for production
MSB_LOG_FORMAT=json

# Log file path (optional)
# Default: None (stdout)
# Uncomment to log to file:
# MSB_LOG_FILE=/var/log/mcp-server.log

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Sandbox startup timeout in seconds
# Default: 180 (3 minutes)
# How long to wait for sandbox to start
MSB_SANDBOX_START_TIMEOUT=180

# Orphan cleanup interval in seconds
# Default: 600 (10 minutes)
# How often to check for orphaned resources
MSB_ORPHAN_CLEANUP_INTERVAL=600

# =============================================================================
# ENVIRONMENT-SPECIFIC CONFIGURATIONS
# =============================================================================

# Uncomment one of the following sections based on your environment:

# --- DEVELOPMENT ENVIRONMENT ---
# MCP_SERVER_HOST=localhost
# MCP_SERVER_PORT=8000
# MCP_ENABLE_CORS=true
# MSB_MAX_SESSIONS=5
# MSB_SESSION_TIMEOUT=1800
# MSB_DEFAULT_FLAVOR=small
# MSB_MAX_TOTAL_MEMORY_MB=4096
# MSB_SHARED_VOLUME_PATH=["./tmp/dev:/sandbox/shared", "./data:/workspace"]
# MSB_LOG_LEVEL=DEBUG
# MSB_LOG_FORMAT=text

# --- PRODUCTION ENVIRONMENT ---
# MCP_SERVER_HOST=0.0.0.0
# MCP_SERVER_PORT=8080
# MCP_ENABLE_CORS=false
# MSB_SERVER_URL=http://microsandbox-server:5555
# MSB_MAX_SESSIONS=50
# MSB_SESSION_TIMEOUT=3600
# MSB_DEFAULT_FLAVOR=medium
# MSB_MAX_TOTAL_MEMORY_MB=16384
# MSB_MAX_TOTAL_CPU_CORES=16
# MSB_SHARED_VOLUME_PATH=["/data/input:/sandbox/input", "/data/output:/sandbox/output"]
# MSB_LOG_LEVEL=WARNING
# MSB_LOG_FORMAT=json
# MSB_LOG_FILE=/var/log/mcp-server.log

# --- DOCKER ENVIRONMENT ---
# MCP_SERVER_HOST=0.0.0.0
# MCP_SERVER_PORT=8000
# MCP_ENABLE_CORS=true
# MSB_SERVER_URL=http://microsandbox:5555
# MSB_MAX_SESSIONS=20
# MSB_SESSION_TIMEOUT=3600
# MSB_DEFAULT_FLAVOR=medium
# MSB_SHARED_VOLUME_PATH=["/data/input:/sandbox/input", "/data/output:/sandbox/output"]
# MSB_LOG_LEVEL=INFO
# MSB_LOG_FORMAT=json